<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>ToDo</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/app.css}">
</head>

<body>
<div class="app-wrapper">

  <header class="app-header">
    <h1 class="app-title">ToDo</h1>

    <button id="themeToggle" class="theme-toggle">
      <img th:src="@{/icons/sun.svg}" alt="theme">
    </button>
  </header>

  <main class="app-card">
    <form action="/" method="post" class="task-form">
      <input type="text" name="title" placeholder="Add new task..." class="task-input" required>
      <button type="submit" class="add-btn">Add</button>
    </form>

    <div th:each="task : ${tasks}" class="task-item" th:id="'task-' + ${task.id}">
      <span class="task-title" th:text="${task.title}">Task</span>
      <div class="task-actions">
        <form th:action="@{/{id}/toggle(id=${task.id})}" method="post" class="toggle-form">
          <button type="submit" class="icon-btn toggle-btn">
            <img th:src="@{/icons/check.svg}" alt="toggle">
          </button>
        </form>

        <form th:action="@{/{id}/delete(id=${task.id})}" method="post" class="delete-form">
          <button type="submit" class="icon-btn delete-btn">
            <img th:src="@{/icons/trash.svg}" alt="delete">
          </button>
        </form>
      </div>
    </div>
  </main>

</div>

<script th:src="@{/js/tasks.js}"></script>
<script th:src="@{/js/theme.js}"></script>
</body>
</html>